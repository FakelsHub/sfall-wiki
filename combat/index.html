<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Combat - sfall - Scripting</title> <link rel="shortcut icon" href="/sfall-wiki/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/sfall-wiki/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/sfall-wiki/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/sfall-wiki/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.3.0 --> <title>Combat | sfall - Scripting</title> <meta property="og:title" content="Combat" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="sfall functions documentation" /> <meta property="og:description" content="sfall functions documentation" /> <link rel="canonical" href="/sfall-wiki/combat/" /> <meta property="og:url" content="/sfall-wiki/combat/" /> <meta property="og:site_name" content="sfall - Scripting" /> <script type="application/ld+json"> {"@type":"WebPage","image":null,"url":"/sfall-wiki/combat/","publisher":null,"author":null,"headline":"Combat","dateModified":null,"datePublished":null,"sameAs":null,"description":"sfall functions documentation","mainEntityOfPage":null,"name":null,"@context":"http://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png"> <link rel="manifest" href="/assets/favicon/site.webmanifest"> <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/favicon/browserconfig.xml"> <meta name="theme-color" content="#ffffff"> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/sfall-wiki/" class="site-title lh-tight"> sfall - Scripting </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/" class="nav-list-link">Документация</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/data-types/" class="nav-list-link">Типы данных</a><ul class="nav-list"><li class="nav-list-item "> <a href="/sfall-wiki/functions/" class="nav-list-link">Функции</a> </li></ul></li><li class="nav-list-item "><a href="/sfall-wiki/sslc/" class="nav-list-link">Компилятор (sslc)</a></li><li class="nav-list-item "><a href="/sfall-wiki/optimization/" class="nav-list-link">Оптимизация</a></li><li class="nav-list-item "><a href="/sfall-wiki/best-practices/" class="nav-list-link">Практические советы</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/global-scripts/" class="nav-list-link">Глобальные сценарии</a><ul class="nav-list "><li class="nav-list-item "><a href="/sfall-wiki/global-functions/" class="nav-list-link">Функции глобальных скриптов</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/arrays/" class="nav-list-link">Массивы</a><ul class="nav-list "><li class="nav-list-item "><a href="/sfall-wiki/array-functions/" class="nav-list-link">Функции массивов</a></li><li class="nav-list-item "><a href="/sfall-wiki/lists/" class="nav-list-link">Списки (Lists)</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/hooks/" class="nav-list-link">Hooks</a><ul class="nav-list "><li class="nav-list-item "><a href="/sfall-wiki/hook-functions/" class="nav-list-link">Hook functions</a></li><li class="nav-list-item "><a href="/sfall-wiki/hook-types/" class="nav-list-link">Hook types</a></li></ul></li><li class="nav-list-item"><a href="/sfall-wiki/funcx-macros/" class="nav-list-link">FuncX macros</a></li><li class="nav-list-item"><a href="/sfall-wiki/global-variables/" class="nav-list-link">Global variables</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/interface/" class="nav-list-link">Interface</a><ul class="nav-list "><li class="nav-list-item "><a href="/sfall-wiki/cursor/" class="nav-list-link">Cursor</a></li><li class="nav-list-item "><a href="/sfall-wiki/inventory/" class="nav-list-link">Inventory</a></li><li class="nav-list-item "><a href="/sfall-wiki/main-interface/" class="nav-list-link">Main interface</a></li><li class="nav-list-item "><a href="/sfall-wiki/outline/" class="nav-list-link">Outline</a></li><li class="nav-list-item "><a href="/sfall-wiki/pip-boy/" class="nav-list-link">Pip-Boy</a></li><li class="nav-list-item "><a href="/sfall-wiki/tags/" class="nav-list-link">Tags</a></li><li class="nav-list-item "><a href="/sfall-wiki/windows-and-images/" class="nav-list-link">Windows and images</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/script-functions/" class="nav-list-link">Функции скриптов</a><ul class="nav-list "><li class="nav-list-item "><a href="/sfall-wiki/animations/" class="nav-list-link">Animations</a></li><li class="nav-list-item "><a href="/sfall-wiki/art/" class="nav-list-link">Art</a></li><li class="nav-list-item "><a href="/sfall-wiki/car/" class="nav-list-link">Car</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/combat/" class="nav-list-link active">Combat</a><ul class="nav-list"><li class="nav-list-item "> <a href="/sfall-wiki/knockback/" class="nav-list-link">Knockback</a> </li><li class="nav-list-item "> <a href="/sfall-wiki/weapons-and-ammo/" class="nav-list-link">Weapons and Ammo</a> </li></ul></li><li class="nav-list-item "><a href="/sfall-wiki/explosions/" class="nav-list-link">Explosions</a></li><li class="nav-list-item "><a href="/sfall-wiki/ini-settings/" class="nav-list-link">INI settings</a></li><li class="nav-list-item "><a href="/sfall-wiki/keyboard-and-mouse/" class="nav-list-link">Keyboard and Mouse</a></li><li class="nav-list-item "><a href="/sfall-wiki/locks/" class="nav-list-link">Locks</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/maps-and-encounters/" class="nav-list-link">Maps and Encounters</a><ul class="nav-list"><li class="nav-list-item "> <a href="/sfall-wiki/rest/" class="nav-list-link">Rest</a> </li><li class="nav-list-item "> <a href="/sfall-wiki/worldmap/" class="nav-list-link">Worldmap</a> </li></ul></li><li class="nav-list-item "><a href="/sfall-wiki/maths/" class="nav-list-link">Математика</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/misc/" class="nav-list-link">Разное</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="/sfall-wiki/objects-and-scripts/" class="nav-list-link">Objects and scripts</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/perks-and-traits/" class="nav-list-link">Perks and Traits</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="/sfall-wiki/shaders/" class="nav-list-link">Shaders</a></li><li class="nav-list-item "><a href="/sfall-wiki/skills/" class="nav-list-link">Skills</a></li><li class="nav-list-item "><a href="/sfall-wiki/sound/" class="nav-list-link">Sound</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/stats/" class="nav-list-link">Stats</a><ul class="nav-list"><li class="nav-list-item "> <a href="/sfall-wiki/stats-min-max/" class="nav-list-link">Stats min/max</a> </li></ul></li><li class="nav-list-item "><a href="/sfall-wiki/strings/" class="nav-list-link">Strings</a></li><li class="nav-list-item "><a href="/sfall-wiki/tiles-and-paths/" class="nav-list-link">Tiles and Paths</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/sfall/" class="nav-list-link">Sfall</a><ul class="nav-list "><li class="nav-list-item "><a href="/sfall-wiki/version/" class="nav-list-link">Version</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/system-functions/" class="nav-list-link">Системные функции</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/sfall-wiki/direct-memory-access/" class="nav-list-link">Direct memory access</a><ul class="nav-list"><li class="nav-list-item "> <a href="/sfall-wiki/calls/" class="nav-list-link">Calls</a> </li><li class="nav-list-item "> <a href="/sfall-wiki/read/" class="nav-list-link">Read</a> </li><li class="nav-list-item "> <a href="/sfall-wiki/write/" class="nav-list-link">Write</a> </li></ul></li><li class="nav-list-item "><a href="/sfall-wiki/virtual-file-system/" class="nav-list-link">Virtual file system</a></li></ul></li><li class="nav-list-item"><a href="/sfall-wiki/variables/" class="nav-list-link">Variables</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search sfall - Scripting" aria-label="Search sfall - Scripting" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://nma-fallout.com/threads/fo2-engine-tweaks-sfall.178390/" class="site-button" > Forum </a> </li> <li class="aux-nav-list-item"> <a href="https://github.com/FakelsHub/sFall-Extended" class="site-button" > GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/sfall-wiki/script-functions/">Функции скриптов</a></li> <li class="breadcrumb-nav-list-item"><span>Combat</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="combat"> <a href="#combat" class="anchor-heading" aria-labelledby="combat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Combat </h1> <h2 class="no_toc" id="подкатегории"> <a href="#подкатегории" class="anchor-heading" aria-labelledby="подкатегории"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Подкатегории </h2> <ul> <li><a href="/sfall-wiki\knockback/"><strong>Knockback</strong></a></li> <li><a href="/sfall-wiki\weapons-and-ammo/"><strong>Weapons and Ammo</strong></a></li> </ul> <h2 class="no_toc" id="функции"> <a href="#функции" class="anchor-heading" aria-labelledby="функции"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Функции </h2> <ul id="markdown-toc"> <li><a href="#attack_is_aimed" id="markdown-toc-attack_is_aimed"><strong>attack_is_aimed</strong></a></li> <li><a href="#block_combat" id="markdown-toc-block_combat"><strong>block_combat</strong></a></li> <li><a href="#combat_data" id="markdown-toc-combat_data"><strong>combat_data</strong></a></li> <li><a href="#disable_aimed_shots" id="markdown-toc-disable_aimed_shots"><strong>disable_aimed_shots</strong></a></li> <li><a href="#force_aimed_shots" id="markdown-toc-force_aimed_shots"><strong>force_aimed_shots</strong></a></li> <li><a href="#get_attack_type" id="markdown-toc-get_attack_type"><strong>get_attack_type</strong></a></li> <li><a href="#get_bodypart_hit_modifier" id="markdown-toc-get_bodypart_hit_modifier"><strong>get_bodypart_hit_modifier</strong></a></li> <li><a href="#get_critical_table" id="markdown-toc-get_critical_table"><strong>get_critical_table</strong></a></li> <li><a href="#get_critter_current_ap" id="markdown-toc-get_critter_current_ap"><strong>get_critter_current_ap</strong></a></li> <li><a href="#get_last_attacker" id="markdown-toc-get_last_attacker"><strong>get_last_attacker</strong></a></li> <li><a href="#get_last_target" id="markdown-toc-get_last_target"><strong>get_last_target</strong></a></li> <li><a href="#reset_critical_table" id="markdown-toc-reset_critical_table"><strong>reset_critical_table</strong></a></li> <li><a href="#set_bodypart_hit_modifier" id="markdown-toc-set_bodypart_hit_modifier"><strong>set_bodypart_hit_modifier</strong></a></li> <li><a href="#set_critical_table" id="markdown-toc-set_critical_table"><strong>set_critical_table</strong></a></li> <li><a href="#set_critter_burst_disable" id="markdown-toc-set_critter_burst_disable"><strong>set_critter_burst_disable</strong></a></li> <li><a href="#set_critter_current_ap" id="markdown-toc-set_critter_current_ap"><strong>set_critter_current_ap</strong></a></li> </ul><hr /> <h3 class="d-inline-block" id="attack_is_aimed"> <a href="#attack_is_aimed" class="anchor-heading" aria-labelledby="attack_is_aimed"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>attack_is_aimed</strong> </h3> <p class="label label-green">sfall.h</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="n">attack_is_aimed</span><span class="p">()</span>
</code></pre></div></div> <p>Returns 1 if the aimed attack mode is selected, 0 otherwise.</p><hr /> <h3 id="block_combat"> <a href="#block_combat" class="anchor-heading" aria-labelledby="block_combat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>block_combat</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">block_combat</span><span class="p">(</span><span class="kt">bool</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div> <p>Deny the player to enter combat mode.</p><hr /> <h3 id="combat_data"> <a href="#combat_data" class="anchor-heading" aria-labelledby="combat_data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>combat_data</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mixed</span> <span class="n">combat_data</span>
</code></pre></div></div> <ul> <li>returns a pointer to the <code class="highlighter-rouge">C_ATTACK_*</code> data for the current combat attack process (see defined constants in <code class="highlighter-rouge">define_extra.h</code>)</li> <li>can be used in conjunction with the <code class="highlighter-rouge">get_object_data</code> and <code class="highlighter-rouge">set_object_data</code> functions example: <code class="highlighter-rouge">sfall_func3("set_object_data", sfall_func0("combat_data"), C_ATTACK_UNUSED, 255);</code></li> </ul><hr /> <h3 id="disable_aimed_shots"> <a href="#disable_aimed_shots" class="anchor-heading" aria-labelledby="disable_aimed_shots"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>disable_aimed_shots</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">disable_aimed_shots</span><span class="p">(</span><span class="kt">int</span> <span class="n">pid</span><span class="p">)</span>
</code></pre></div></div> <p>Allows overriding the normal rules regarding which weapons are allowed to make aimed attacks. (e.g. weapons that cause explosive damage normally cannot normally make aimed shots.) stops a weapon from making aimed shots even if it normally coulld. Affects player and NPCs alike. The list of edited weapons is not saved over game loads, so you need to call the function once at each reload. Use a pid of 0 to represent unarmed.</p><hr /> <h3 id="force_aimed_shots"> <a href="#force_aimed_shots" class="anchor-heading" aria-labelledby="force_aimed_shots"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>force_aimed_shots</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">force_aimed_shots</span><span class="p">(</span><span class="kt">int</span> <span class="n">pid</span><span class="p">)</span>
</code></pre></div></div> <p>Allows overriding the normal rules regarding which weapons are allowed to make aimed attacks. (e.g. weapons that cause explosive damage normally cannot normally make aimed shots.) Will allow a weapon to make aimed shots even if it normally couldn’t. Affects player and NPCs alike. Does not override the effects of the fast shot trait. The list of edited weapons is not saved over game loads, so you need to call the function once at each reload. Use a pid of 0 to represent unarmed.</p><hr /> <h3 id="get_attack_type"> <a href="#get_attack_type" class="anchor-heading" aria-labelledby="get_attack_type"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_attack_type</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_attack_type</span>
</code></pre></div></div><hr /> <h3 id="get_bodypart_hit_modifier"> <a href="#get_bodypart_hit_modifier" class="anchor-heading" aria-labelledby="get_bodypart_hit_modifier"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_bodypart_hit_modifier</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_bodypart_hit_modifier</span><span class="p">(</span><span class="kt">int</span> <span class="n">bodypart</span><span class="p">)</span>
</code></pre></div></div> <p>Gets the hit percentage modifiers for aiming at specific bodyparts. Valid bodypart id’s are from 0 to 8.</p><hr /> <h3 id="get_critical_table"> <a href="#get_critical_table" class="anchor-heading" aria-labelledby="get_critical_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_critical_table</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_critical_table</span><span class="p">(</span><span class="kt">int</span> <span class="n">crittertype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">valuetype</span><span class="p">)</span>
</code></pre></div></div> <p>Gets current critical table. For details see <a href="http://falloutmods.wikia.com/wiki/Critical_hit_tables">critical hit tables</a>. Requires <code class="highlighter-rouge">OverrideCriticalTable</code> to be set to 1 in <code class="highlighter-rouge">ddraw.ini</code>. (Disabled by default, because it noticably increases loading times.)</p><hr /> <h3 id="get_critter_current_ap"> <a href="#get_critter_current_ap" class="anchor-heading" aria-labelledby="get_critter_current_ap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_critter_current_ap</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_critter_current_ap</span><span class="p">(</span><span class="n">CritterPtr</span><span class="p">)</span>
</code></pre></div></div> <p>Should only be used during the target critters turn while in combat. Calling it outside of combat typically returns the critters max ap, but don’t rely on that behaviour. (Specifically, if the critter has never before entered combat, it will probably return the critters base ap ignoring any extra bonuses from perks etc.)</p><hr /> <h3 id="get_last_attacker"> <a href="#get_last_attacker" class="anchor-heading" aria-labelledby="get_last_attacker"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_last_attacker</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ObjectPtr</span> <span class="n">get_last_attacker</span><span class="p">(</span><span class="n">ObjectPtr</span> <span class="n">critter</span><span class="p">)</span>
</code></pre></div></div> <p>Will return the last critter to deliberately launch an attack against the argument critter. If a critter has not launched/received an attack, it will return 0. Outside of combat always returns 0.</p><hr /> <h3 id="get_last_target"> <a href="#get_last_target" class="anchor-heading" aria-labelledby="get_last_target"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_last_target</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ObjectPtr</span> <span class="n">get_last_target</span><span class="p">(</span><span class="n">ObjectPtr</span> <span class="n">critter</span><span class="p">)</span>
</code></pre></div></div> <p>Will return the last critter to be deliberately attacked. Outside of combat always returns 0.</p><hr /> <h3 id="reset_critical_table"> <a href="#reset_critical_table" class="anchor-heading" aria-labelledby="reset_critical_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>reset_critical_table</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">reset_critical_table</span><span class="p">(</span><span class="kt">int</span> <span class="n">crittertype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">valuetype</span><span class="p">)</span>
</code></pre></div></div> <p>Resets the critical table to default (or to the contents of <code class="highlighter-rouge">CriticalOverrides.ini</code>, if it exists). For details see ‘http://falloutmods.wikia.com/wiki/Critical_hit_tables’. Requires <code class="highlighter-rouge">OverrideCriticalTable</code> to be set to 1 in <code class="highlighter-rouge">ddraw.ini</code>. (Disabled by default, because it noticably increases loading times.)</p><hr /> <h3 id="set_bodypart_hit_modifier"> <a href="#set_bodypart_hit_modifier" class="anchor-heading" aria-labelledby="set_bodypart_hit_modifier"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_bodypart_hit_modifier</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_bodypart_hit_modifier</span><span class="p">(</span><span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div> <p>Alters the hit percentage modifiers for aiming at specific bodyparts. Valid bodypart id’s are from 0 to 8. Changes are not saved, and will reset to the defaults (or to the values specified in ddraw.ini if they exist) at each reload.</p><hr /> <h3 id="set_critical_table"> <a href="#set_critical_table" class="anchor-heading" aria-labelledby="set_critical_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_critical_table</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_critical_table</span><span class="p">(</span><span class="kt">int</span> <span class="n">crittertype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">valuetype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div> <p>Used for modifying the critical table. For details see <a href="http://falloutmods.wikia.com/wiki/Critical_hit_tables">critical hit tables</a>. Changes are not saved, and will reset to the defaults, (or to the contents of <code class="highlighter-rouge">CriticalOverrides.ini</code>, if it exists) at each game reload. Requires <code class="highlighter-rouge">OverrideCriticalTable</code> to be set to 1 in <code class="highlighter-rouge">ddraw.ini</code>. (Disabled by default, because it noticably increases loading times.)</p><hr /> <h3 id="set_critter_burst_disable"> <a href="#set_critter_burst_disable" class="anchor-heading" aria-labelledby="set_critter_burst_disable"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_critter_burst_disable</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_critter_burst_disable</span><span class="p">(</span><span class="kt">int</span> <span class="n">critter</span><span class="p">,</span> <span class="kt">int</span> <span class="n">disable</span><span class="p">)</span>
</code></pre></div></div><hr /> <h3 id="set_critter_current_ap"> <a href="#set_critter_current_ap" class="anchor-heading" aria-labelledby="set_critter_current_ap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_critter_current_ap</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_critter_current_ap</span><span class="p">(</span><span class="n">CritterPtr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ap</span><span class="p">)</span>
</code></pre></div></div> <p>Should only be used during the target critters turn while in combat.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
